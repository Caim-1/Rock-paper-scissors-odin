<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        

        const rockPaperScissors = ["Rock", "Paper", "Scissors"];
        let playerSelection = "rock";
        let playerVictories = 0;
        let computerVictories = 0;
        let ties = 0;

        window.onload=function(){
            const btnRock = document.querySelector('#btn-rock');
            btnRock.addEventListener('click', () => {
                playerSelection = btnRock.textContent;
                startRound(playerSelection);
            });

            const btnPaper = document.querySelector('#btn-paper');
            btnPaper.addEventListener('click', () => {
                playerSelection = btnPaper.textContent;
                startRound(playerSelection);
            });

            const btnScissors = document.querySelector('#btn-scissors');
            btnScissors.addEventListener('click', () => {
                playerSelection = btnScissors.textContent;
                startRound(playerSelection);
            });
        }

        function startRound(playerSelection) {
            computerSelection = computerPlay();
            console.log(`Player chose ${playerSelection.toUpperCase()}!`);
            console.log(`Computer chose ${computerSelection.toUpperCase()}!`);
            playRound(playerSelection, computerSelection);
        }

        function computerPlay() {
            let randomElement = Math.floor(Math.random() * rockPaperScissors.length);
            let result = rockPaperScissors[randomElement];
            return result;
        }

        function playRound(playerSelection, computerSelection) {
            
            if (playerSelection.toUpperCase() === "ROCK") {
                if (computerSelection === "Rock") {
                    console.log("Tie.");
                    ties++;
                }
                else if (computerSelection === "Scissors") {
                    console.log("You win! Rock beats Scissors.");
                    playerVictories++;
                    UpdateScore();
                }
                else {
                    console.log("Computer wins! Paper beats Rock.");
                    computerVictories++;
                    UpdateScore();
                }
            }
            else if (playerSelection.toUpperCase() === "SCISSORS") {
                if (computerSelection === "Rock") {
                    console.log("Computer wins! Rock beats Scissors.");
                    computerVictories++;
                    UpdateScore();
                }
                else if (computerSelection === "Scissors") {
                    console.log("Tie.");
                    ties++;
                }
                else {
                    console.log("You win! Scissors beat Paper.");
                    playerVictories++;
                    UpdateScore();
                }
            }
            else if (playerSelection.toUpperCase() === "PAPER") {
                if (computerSelection === "Rock") {
                    console.log("You win! Paper beats Rock.");
                    playerVictories++;
                    UpdateScore();
                }
                else if (computerSelection === "Scissors") {
                    console.log("Computer wins! Scissors beat Paper.");
                    computerVictories++;
                    UpdateScore();
                }
                else {
                    console.log("Tie.");
                    ties++;
                }
            }
            else {
                console.log("Please choose 'Rock', 'Paper' or 'Scissors'.")
            }

            console.log(playerVictories);
            console.log(computerVictories);

            if ((playerVictories === 5) || (computerVictories === 5)) {
                
            }
        }

        function UpdateScore() {
            const playerScore = document.querySelector('.player-score');
            const computerScore = document.querySelector('.computer-score');

            if (playerVictories > 0) {
                playerScore.textContent = `Player: ${playerVictories}`;
            }

            if (computerVictories > 0) {
                computerScore.textContent = `Computer: ${computerVictories}`;
            }
            
            if ((playerVictories === 5) || computerVictories === 5) {
                AnnounceTheVictor();
                ResetScore();
            }
        }

        function AnnounceTheVictor() {
            if (playerVictories === 5){
                alert('The player wins!');
            }
            else if (computerVictories === 5) {
                alert('The computer wins!');
            }
        }

        function ResetScore() {
            const playerScore = document.querySelector('.player-score');
            const computerScore = document.querySelector('.computer-score');

            playerVictories = 0;
            playerScore.textContent = `Player: ${playerVictories}`;
            computerVictories = 0;
            computerScore.textContent = `Computer: ${computerVictories}`;
        }

    </script>
</head>
<body>
    <div class="title">ROCK PAPER SCISSORS</div>
    <div class="subtext">Pick your poison...</div>
    <div class="button-container">
        <button id="btn-rock">Rock</button>
        <button id="btn-paper">Paper</button>
        <button id="btn-scissors">Scissors</button>
    </div>
    <div class="score">Score</div>
    <div class="scores">
        <div class="player-score">Player: 0</div>
        <div class="computer-score">Computer: 0</div>
    </div>
</body>
</html>